<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Volunteer Portal - Crescat</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg-main: hsl(204, 77%, 12%);
      --bg-sidebar: hsl(205, 64%, 14%);
      --bg-content: hsl(204, 77%, 12%);
      --bg-hover: hsl(205, 57%, 16%);
      --bg-active: hsl(205, 47%, 19%);
      --bg-input: hsl(205, 68%, 14%);
      --bg-row: hsl(204, 77%, 12%);
      --bg-row-alt: hsl(205, 64%, 14%);
      --bg-row-hover: hsl(205, 57%, 16%);
      --text-default: hsl(205, 42%, 84%);
      --text-soft: hsl(205, 16%, 57%);
      --text-inverted: hsl(204, 77%, 12%);
      --text-link: hsl(203, 90%, 48%);
      --border-default: hsl(203, 44%, 20%);
      --border-soft: hsl(204, 52%, 17%);
      --color-success: hsl(151, 61%, 43%);
      --color-primary: hsl(205, 69%, 33%);
      --color-pending: hsl(44, 88%, 66%);
      --color-warning: hsl(0, 88%, 66%);
      --color-highlight: #45A4E4;
      --color-portal: hsl(258, 60%, 55%);
      --color-portal-light: hsl(258, 60%, 65%);
      --color-portal-bg: hsla(258, 60%, 55%, 0.08);
      --color-portal-border: hsla(258, 60%, 55%, 0.2);
    }

    body {
      background: var(--bg-main);
      color: var(--text-default);
      font-family: 'Inter', sans-serif;
      font-size: 14px;
    }

    ::-webkit-scrollbar { width: 6px; height: 6px; }
    ::-webkit-scrollbar-track { background: var(--bg-sidebar); }
    ::-webkit-scrollbar-thumb { background: var(--border-default); border-radius: 3px; }
    ::-webkit-scrollbar-thumb:hover { background: var(--text-soft); }

    /* Buttons */
    .btn-portal {
      display: inline-flex; align-items: center; gap: 6px;
      padding: 8px 16px; border-radius: 6px;
      font-size: 13px; font-weight: 500;
      background: var(--color-portal); color: #fff;
      border: none; cursor: pointer; transition: filter 0.15s;
    }
    .btn-portal:hover { filter: brightness(1.15); }

    .btn-ghost {
      display: inline-flex; align-items: center; gap: 6px;
      padding: 8px 16px; border-radius: 6px;
      font-size: 13px; font-weight: 500;
      background: transparent; color: var(--text-soft);
      border: 1px solid var(--border-default); cursor: pointer; transition: all 0.15s;
    }
    .btn-ghost:hover { background: var(--bg-hover); color: var(--text-default); }

    .btn-success {
      display: inline-flex; align-items: center; gap: 6px;
      padding: 8px 16px; border-radius: 6px;
      font-size: 13px; font-weight: 500;
      background: var(--color-success); color: #fff;
      border: none; cursor: pointer; transition: filter 0.15s;
    }
    .btn-success:hover { filter: brightness(1.15); }

    .btn-sm { padding: 5px 12px; font-size: 12px; }

    /* Input */
    .input-field {
      width: 100%; padding: 8px 12px; border-radius: 6px;
      border: 1px solid var(--border-default);
      background: var(--bg-input); color: var(--text-default);
      font-size: 13px; font-family: 'Inter', sans-serif; outline: none;
      transition: border-color 0.15s;
    }
    .input-field:focus { border-color: var(--color-portal); }
    .input-field::placeholder { color: var(--text-soft); }

    /* Badges */
    .badge {
      display: inline-flex; align-items: center;
      padding: 2px 10px; border-radius: 9999px;
      font-size: 12px; font-weight: 500; line-height: 20px;
    }
    .badge-success { background: hsla(151, 61%, 43%, 0.1); border: 1px solid hsla(151, 61%, 43%, 0.2); color: var(--color-success); }
    .badge-warning { background: hsla(0, 88%, 66%, 0.1); border: 1px solid hsla(0, 88%, 66%, 0.2); color: var(--color-warning); }
    .badge-pending { background: hsla(44, 88%, 66%, 0.1); border: 1px solid hsla(44, 88%, 66%, 0.2); color: var(--color-pending); }
    .badge-info { background: rgba(69, 164, 228, 0.1); border: 1px solid rgba(69, 164, 228, 0.2); color: var(--color-highlight); }
    .badge-portal { background: var(--color-portal-bg); border: 1px solid var(--color-portal-border); color: var(--color-portal-light); }

    /* Cards */
    .card { background: var(--bg-content); border: 1px solid var(--border-default); border-radius: 6px; }
    .portal-card { background: var(--bg-sidebar); border: 1px solid var(--border-default); border-radius: 8px; overflow: hidden; }

    /* Progress bar */
    .progress-bar { height: 8px; border-radius: 4px; background: var(--bg-active); overflow: hidden; }
    .progress-fill { height: 100%; border-radius: 4px; transition: width 0.5s ease; }

    /* Stat card */
    .stat-card {
      background: var(--bg-sidebar);
      border: 1px solid var(--border-default);
      border-radius: 8px;
      padding: 20px;
    }

    /* Tab buttons */
    .tab-btn {
      padding: 10px 20px; font-size: 13px; font-weight: 500;
      color: var(--text-soft); background: transparent;
      border: none; border-bottom: 2px solid transparent;
      cursor: pointer; transition: all 0.15s;
    }
    .tab-btn:hover { color: var(--text-default); }
    .tab-btn.active { color: var(--color-portal-light); border-bottom-color: var(--color-portal); }

    /* Onboarding step */
    .step-item {
      border: 1px solid var(--border-default);
      border-radius: 8px;
      overflow: hidden;
      transition: all 0.15s;
    }
    .step-item:hover { border-color: var(--border-default); }
    .step-header {
      display: flex; align-items: center; gap: 14px;
      padding: 16px 20px;
      cursor: pointer;
      transition: background 0.15s;
    }
    .step-header:hover { background: var(--bg-hover); }
    .step-body {
      padding: 0 20px 20px 58px;
    }
    .step-circle {
      width: 28px; height: 28px; border-radius: 50%;
      display: flex; align-items: center; justify-content: center;
      font-size: 12px; font-weight: 600; flex-shrink: 0;
    }
    .step-completed .step-circle { background: var(--color-success); color: #fff; }
    .step-current .step-circle { background: var(--color-portal); color: #fff; }
    .step-locked .step-circle { background: var(--bg-active); color: var(--text-soft); }

    /* Checkbox custom */
    .checkbox-item {
      display: flex; align-items: center; gap: 10px;
      padding: 8px 14px; border-radius: 6px;
      border: 1px solid var(--border-default);
      cursor: pointer; transition: all 0.15s;
      font-size: 13px;
    }
    .checkbox-item:hover { background: var(--bg-hover); }
    .checkbox-item.checked {
      border-color: var(--color-portal);
      background: var(--color-portal-bg);
    }
    .cb-box {
      width: 18px; height: 18px; border-radius: 4px;
      border: 2px solid var(--border-default);
      display: flex; align-items: center; justify-content: center;
      flex-shrink: 0; transition: all 0.15s;
    }
    .checkbox-item.checked .cb-box {
      background: var(--color-portal);
      border-color: var(--color-portal);
    }

    /* Shift colors */
    .shift-gate { border-left: 3px solid hsl(205, 69%, 50%); }
    .shift-stage { border-left: 3px solid hsl(258, 60%, 55%); }
    .shift-food { border-left: 3px solid hsl(30, 80%, 55%); }
    .shift-vip { border-left: 3px solid hsl(44, 88%, 55%); }
    .shift-teardown { border-left: 3px solid hsl(0, 60%, 55%); }

    /* FAQ accordion */
    .faq-item {
      border: 1px solid var(--border-default);
      border-radius: 6px;
      overflow: hidden;
      margin-bottom: 8px;
    }
    .faq-header {
      display: flex; align-items: center; justify-content: space-between;
      padding: 14px 18px;
      cursor: pointer;
      transition: background 0.15s;
      font-size: 13px; font-weight: 500;
    }
    .faq-header:hover { background: var(--bg-hover); }
    .faq-body {
      padding: 0 18px 16px 18px;
      font-size: 13px; line-height: 1.7;
      color: var(--text-soft);
    }

    /* Entitlement card */
    .entitlement-card {
      background: var(--bg-sidebar);
      border: 1px solid var(--border-default);
      border-radius: 8px;
      padding: 20px;
      transition: all 0.15s;
    }
    .entitlement-card:hover { border-color: var(--color-portal-border); }

    /* Toast */
    .toast {
      position: fixed; bottom: 24px; right: 24px; z-index: 100;
      padding: 12px 20px; border-radius: 8px;
      background: var(--color-success); color: #fff;
      font-size: 13px; font-weight: 500;
      box-shadow: 0 8px 24px rgba(0,0,0,0.3);
      transform: translateY(0); opacity: 1;
      transition: all 0.3s ease;
    }
    .toast.hidden { transform: translateY(20px); opacity: 0; pointer-events: none; }

    /* Announcement pulse */
    @keyframes pulseGlow {
      0%, 100% { opacity: 0.6; }
      50% { opacity: 1; }
    }
    .pulse-dot {
      width: 8px; height: 8px; border-radius: 50%;
      background: var(--color-portal);
      animation: pulseGlow 2s infinite;
    }
  </style>
</head>
<body class="min-h-screen" x-data="volunteerApp()">

  <!-- PORTAL NAVBAR (56px) -->
  <nav class="fixed top-0 left-0 right-0 z-50 flex items-center justify-between px-6" style="height: 56px; background: var(--bg-sidebar); border-bottom: 1px solid var(--border-default);">
    <div class="flex items-center gap-3">
      <img src="https://crescat.io/assets/logo/logo-white.svg" alt="Crescat" style="height: 12px;">
      <span class="text-xs font-semibold px-2 py-0.5 rounded" style="background: var(--color-portal); color: #fff;">Volunteer Portal</span>
    </div>
    <div class="flex items-center">
      <span class="text-sm font-medium text-white">Midgard Festival 2026</span>
    </div>
    <div class="flex items-center gap-4">
      <span class="text-sm" style="color: var(--text-default);">Sigrid Halvorsen</span>
      <div class="w-8 h-8 rounded-full flex items-center justify-center text-xs font-semibold" style="background: var(--color-portal); color: #fff;">SH</div>
    </div>
  </nav>

  <!-- MAIN CONTENT -->
  <main class="pt-[56px]">

    <!-- Tab Navigation -->
    <div class="max-w-5xl mx-auto px-6 pt-6">
      <div class="flex items-center" style="border-bottom: 1px solid var(--border-default);">
        <button class="tab-btn" :class="tab === 'dashboard' ? 'active' : ''" @click="tab = 'dashboard'">
          <span class="flex items-center gap-2">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="7" height="9" rx="1"/><rect x="14" y="3" width="7" height="5" rx="1"/><rect x="14" y="12" width="7" height="9" rx="1"/><rect x="3" y="16" width="7" height="5" rx="1"/></svg>
            Dashboard
          </span>
        </button>
        <button class="tab-btn" :class="tab === 'onboarding' ? 'active' : ''" @click="tab = 'onboarding'">
          <span class="flex items-center gap-2">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 11l3 3L22 4"/><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"/></svg>
            Onboarding
          </span>
        </button>
        <button class="tab-btn" :class="tab === 'schedule' ? 'active' : ''" @click="tab = 'schedule'">
          <span class="flex items-center gap-2">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
            My Schedule
          </span>
        </button>
        <button class="tab-btn" :class="tab === 'entitlements' ? 'active' : ''" @click="tab = 'entitlements'">
          <span class="flex items-center gap-2">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 12V8H6a2 2 0 0 1-2-2c0-1.1.9-2 2-2h12v4"/><path d="M4 6v12c0 1.1.9 2 2 2h14v-4"/><path d="M18 12a2 2 0 0 0 0 4h4v-4h-4z"/></svg>
            Entitlements
          </span>
        </button>
        <button class="tab-btn" :class="tab === 'help' ? 'active' : ''" @click="tab = 'help'">
          <span class="flex items-center gap-2">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>
            Contact &amp; Help
          </span>
        </button>
      </div>
    </div>

    <!-- ==================== TAB: DASHBOARD ==================== -->
    <div x-show="tab === 'dashboard'" x-transition>
      <div class="max-w-5xl mx-auto px-6 py-8 space-y-6">

        <!-- Welcome Banner -->
        <div class="flex items-center justify-between p-6 rounded-lg" style="background: linear-gradient(135deg, hsla(258, 60%, 55%, 0.12), hsla(258, 60%, 55%, 0.04)); border: 1px solid var(--color-portal-border); border-radius: 8px;">
          <div class="flex items-center gap-5">
            <div class="w-14 h-14 rounded-full flex items-center justify-center text-lg font-bold" style="background: var(--color-portal); color: #fff;">SH</div>
            <div>
              <h1 class="text-2xl font-semibold text-white mb-1">Welcome back, Sigrid</h1>
              <p class="text-sm" style="color: var(--text-soft);">Volunteer at Midgard Festival 2026 &mdash; Crew Team Bravo</p>
            </div>
          </div>
          <div class="text-right flex-shrink-0 ml-6">
            <div class="text-sm font-medium text-white">Jun 18&ndash;22, 2026</div>
            <div class="text-xs mt-0.5" style="color: var(--text-soft);">Festival Dates</div>
          </div>
        </div>

        <!-- Onboarding Progress -->
        <div class="portal-card p-5">
          <div class="flex items-center justify-between mb-3">
            <div>
              <p class="text-sm font-semibold text-white">Onboarding Progress</p>
              <p class="text-xs mt-0.5" style="color: var(--text-soft);">4 of 6 steps completed</p>
            </div>
            <button class="btn-portal btn-sm" @click="tab = 'onboarding'">Continue Onboarding</button>
          </div>
          <div class="progress-bar mb-3">
            <div class="progress-fill" style="width: 66.6%; background: var(--color-portal);"></div>
          </div>
          <div class="flex items-center gap-2">
            <template x-for="(step, i) in onboardingSteps" :key="i">
              <div class="flex items-center gap-2">
                <div class="flex items-center gap-1.5">
                  <div class="w-6 h-6 rounded-full flex items-center justify-center text-xs font-semibold"
                       :style="step.status === 'completed' ? 'background: var(--color-success); color: #fff;' :
                               step.status === 'current' ? 'background: var(--color-portal); color: #fff;' :
                               'background: var(--bg-active); color: var(--text-soft);'">
                    <template x-if="step.status === 'completed'">
                      <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>
                    </template>
                    <template x-if="step.status !== 'completed'">
                      <span x-text="i + 1"></span>
                    </template>
                  </div>
                  <span class="text-xs hidden lg:inline"
                        :style="step.status === 'completed' ? 'color: var(--color-success);' :
                                step.status === 'current' ? 'color: var(--color-portal-light);' :
                                'color: var(--text-soft);'"
                        x-text="step.shortTitle"></span>
                </div>
                <template x-if="i < onboardingSteps.length - 1">
                  <div class="w-4 h-px" style="background: var(--border-default);"></div>
                </template>
              </div>
            </template>
          </div>
        </div>

        <!-- Quick Stats -->
        <div class="grid grid-cols-4 gap-4">
          <div class="stat-card">
            <div class="flex items-center gap-3 mb-3">
              <div class="w-8 h-8 rounded-lg flex items-center justify-center" style="background: hsla(258, 60%, 55%, 0.15);">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="color: var(--color-portal-light);"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
              </div>
              <p class="text-xs font-semibold uppercase tracking-wider" style="color:var(--text-soft);">Days Until Festival</p>
            </div>
            <p class="text-3xl font-bold" style="color: var(--color-portal-light);">126</p>
            <p class="text-xs" style="color:var(--text-soft);">June 18, 2026</p>
          </div>
          <div class="stat-card">
            <div class="flex items-center gap-3 mb-3">
              <div class="w-8 h-8 rounded-lg flex items-center justify-center" style="background: hsla(151, 61%, 43%, 0.15);">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="color: var(--color-success);"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
              </div>
              <p class="text-xs font-semibold uppercase tracking-wider" style="color:var(--text-soft);">Assigned Shifts</p>
            </div>
            <p class="text-3xl font-bold text-white">5</p>
            <p class="text-xs" style="color:var(--text-soft);">Across 4 days</p>
          </div>
          <div class="stat-card">
            <div class="flex items-center gap-3 mb-3">
              <div class="w-8 h-8 rounded-lg flex items-center justify-center" style="background: hsla(44, 88%, 66%, 0.15);">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="color: var(--color-pending);"><path d="M12 2v4m0 12v4M4.93 4.93l2.83 2.83m8.48 8.48l2.83 2.83M2 12h4m12 0h4M4.93 19.07l2.83-2.83m8.48-8.48l2.83-2.83"/></svg>
              </div>
              <p class="text-xs font-semibold uppercase tracking-wider" style="color:var(--text-soft);">Hours Committed</p>
            </div>
            <p class="text-3xl font-bold text-white">30</p>
            <p class="text-xs" style="color:var(--text-soft);">6 hours avg per shift</p>
          </div>
          <div class="stat-card">
            <div class="flex items-center gap-3 mb-3">
              <div class="w-8 h-8 rounded-lg flex items-center justify-center" style="background: hsla(205, 69%, 33%, 0.15);">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="color: var(--color-highlight);"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
              </div>
              <p class="text-xs font-semibold uppercase tracking-wider" style="color:var(--text-soft);">Team</p>
            </div>
            <p class="text-xl font-bold text-white">Crew Bravo</p>
            <p class="text-xs" style="color:var(--text-soft);">Lead: Erik Bakken</p>
          </div>
        </div>

        <!-- Next Shift + Announcement -->
        <div class="grid grid-cols-2 gap-4">
          <!-- Next Upcoming Shift -->
          <div class="portal-card p-5">
            <div class="flex items-center gap-2 mb-4">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="color: var(--color-portal-light);"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
              <p class="text-xs font-semibold uppercase tracking-wider" style="color: var(--text-soft);">Next Upcoming Shift</p>
            </div>
            <div class="flex items-start gap-4">
              <div class="text-center flex-shrink-0" style="min-width: 52px;">
                <div class="text-xs font-semibold uppercase" style="color: var(--color-portal-light);">Thu</div>
                <div class="text-2xl font-bold text-white">18</div>
                <div class="text-xs" style="color: var(--text-soft);">Jun</div>
              </div>
              <div class="flex-1" style="border-left: 2px solid var(--color-portal); padding-left: 16px;">
                <p class="text-sm font-semibold text-white">Gate Crew</p>
                <p class="text-xs mt-1" style="color: var(--text-soft);">08:00 &ndash; 14:00 &nbsp;&bull;&nbsp; Main Entrance</p>
                <p class="text-xs mt-1" style="color: var(--text-soft);">Team Lead: Erik Bakken</p>
                <div class="flex items-center gap-2 mt-3">
                  <span class="badge badge-portal">6 hours</span>
                  <span class="badge badge-info">Morning shift</span>
                </div>
              </div>
            </div>
          </div>

          <!-- Announcement -->
          <div class="portal-card p-5" style="border-color: var(--color-portal-border);">
            <div class="flex items-center gap-2 mb-4">
              <div class="pulse-dot"></div>
              <p class="text-xs font-semibold uppercase tracking-wider" style="color: var(--text-soft);">Announcement</p>
            </div>
            <div class="p-4 rounded-lg" style="background: var(--color-portal-bg); border: 1px solid var(--color-portal-border);">
              <p class="text-sm font-semibold text-white mb-2">Volunteer Orientation Session</p>
              <p class="text-sm" style="color: var(--text-soft);">
                Join us on <span class="font-medium text-white">June 16 at 14:00</span> at the <span class="font-medium text-white">Main Tent</span> for the mandatory orientation session. Meet your team leaders and get your volunteer kit.
              </p>
              <div class="flex items-center gap-2 mt-3">
                <span class="badge badge-pending">Mandatory</span>
                <span class="text-xs" style="color: var(--text-soft);">2 days before festival</span>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>

    <!-- ==================== TAB: ONBOARDING ==================== -->
    <div x-show="tab === 'onboarding'" x-transition>
      <div class="max-w-5xl mx-auto px-6 py-8">

        <!-- Header -->
        <div class="flex items-center justify-between mb-6">
          <div>
            <h1 class="text-xl font-bold mb-1">Onboarding Checklist</h1>
            <p class="text-sm" style="color: var(--text-soft);">Complete all steps before the festival to receive your volunteer credentials.</p>
          </div>
          <div class="flex items-center gap-3">
            <span class="text-sm font-medium" style="color: var(--color-portal-light);">4 / 6 completed</span>
            <div class="progress-bar" style="width: 120px;">
              <div class="progress-fill" style="width: 66.6%; background: var(--color-portal);"></div>
            </div>
          </div>
        </div>

        <!-- Steps -->
        <div class="space-y-3">
          <template x-for="(step, i) in onboardingSteps" :key="i">
            <div class="step-item"
                 :class="step.status === 'completed' ? 'step-completed' : step.status === 'current' ? 'step-current' : 'step-locked'"
                 :style="step.status === 'current' ? 'border-color: var(--color-portal-border);' : ''">

              <!-- Step Header -->
              <div class="step-header" @click="step.status !== 'locked' ? (step.expanded = !step.expanded) : null"
                   :style="step.status === 'locked' ? 'cursor: default; opacity: 0.6;' : ''">
                <div class="step-circle">
                  <template x-if="step.status === 'completed'">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>
                  </template>
                  <template x-if="step.status === 'current'">
                    <span x-text="i + 1"></span>
                  </template>
                  <template x-if="step.status === 'locked'">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
                  </template>
                </div>
                <div class="flex-1">
                  <p class="text-sm font-semibold text-white" x-text="step.title"></p>
                  <p class="text-xs mt-0.5" style="color: var(--text-soft);" x-text="step.subtitle"></p>
                </div>
                <div class="flex items-center gap-3">
                  <span class="badge"
                        :class="step.status === 'completed' ? 'badge-success' : step.status === 'current' ? 'badge-portal' : 'badge-pending'"
                        x-text="step.status === 'completed' ? 'Completed' : step.status === 'current' ? 'In Progress' : 'Locked'"></span>
                  <template x-if="step.status !== 'locked'">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="color: var(--text-soft);"
                         :style="step.expanded ? 'transform: rotate(180deg);' : ''"><polyline points="6 9 12 15 18 9"/></svg>
                  </template>
                </div>
              </div>

              <!-- Step Body -->
              <div x-show="step.expanded" x-transition class="step-body">

                <!-- Step 1: Personal Information -->
                <template x-if="i === 0">
                  <div class="space-y-3">
                    <div class="grid grid-cols-2 gap-4 p-4 rounded-lg" style="background: var(--bg-sidebar);">
                      <div>
                        <p class="text-xs font-semibold uppercase tracking-wider mb-1" style="color: var(--text-soft);">Full Name</p>
                        <p class="text-sm text-white">Sigrid Halvorsen</p>
                      </div>
                      <div>
                        <p class="text-xs font-semibold uppercase tracking-wider mb-1" style="color: var(--text-soft);">Phone</p>
                        <p class="text-sm text-white">+47 412 34 567</p>
                      </div>
                      <div>
                        <p class="text-xs font-semibold uppercase tracking-wider mb-1" style="color: var(--text-soft);">Emergency Contact</p>
                        <p class="text-sm text-white">Kari Halvorsen (mother) &mdash; +47 923 45 678</p>
                      </div>
                      <div>
                        <p class="text-xs font-semibold uppercase tracking-wider mb-1" style="color: var(--text-soft);">T-shirt Size</p>
                        <p class="text-sm text-white">M</p>
                      </div>
                    </div>
                    <div class="flex items-center gap-2 text-xs" style="color: var(--color-success);">
                      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
                      Submitted on May 12, 2026
                    </div>
                  </div>
                </template>

                <!-- Step 2: Photo Upload -->
                <template x-if="i === 1">
                  <div class="space-y-3">
                    <div class="flex items-center gap-4 p-4 rounded-lg" style="background: var(--bg-sidebar);">
                      <div class="w-20 h-20 rounded-lg flex items-center justify-center text-2xl font-bold" style="background: var(--color-portal); color: #fff;">SH</div>
                      <div>
                        <p class="text-sm font-medium text-white">Photo uploaded for credential badge</p>
                        <p class="text-xs mt-1" style="color: var(--text-soft);">portrait_sigrid.jpg &mdash; 240 KB</p>
                        <p class="text-xs mt-1" style="color: var(--color-success);">Approved by coordinator</p>
                      </div>
                    </div>
                    <div class="flex items-center gap-2 text-xs" style="color: var(--color-success);">
                      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
                      Approved on May 14, 2026
                    </div>
                  </div>
                </template>

                <!-- Step 3: Code of Conduct -->
                <template x-if="i === 2">
                  <div class="space-y-3">
                    <div class="p-4 rounded-lg" style="background: var(--bg-sidebar);">
                      <p class="text-sm text-white font-medium mb-2">Midgard Festival Code of Conduct</p>
                      <p class="text-xs" style="color: var(--text-soft); line-height: 1.7;">
                        You agreed to uphold the festival's code of conduct, including respectful behavior towards all attendees, staff, and artists. You confirmed understanding of the alcohol and substance policy, anti-harassment guidelines, and emergency procedures.
                      </p>
                      <div class="flex items-center gap-2 mt-3">
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="color: var(--color-success);"><path d="M9 11l3 3L22 4"/><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"/></svg>
                        <span class="text-xs" style="color: var(--color-success);">Accepted and signed digitally</span>
                      </div>
                    </div>
                    <div class="flex items-center gap-2 text-xs" style="color: var(--color-success);">
                      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
                      Accepted on May 15, 2026
                    </div>
                  </div>
                </template>

                <!-- Step 4: Safety Briefing -->
                <template x-if="i === 3">
                  <div class="space-y-3">
                    <div class="p-4 rounded-lg" style="background: var(--bg-sidebar);">
                      <div class="flex items-center justify-between mb-3">
                        <p class="text-sm text-white font-medium">Safety Briefing Video</p>
                        <span class="badge badge-success">Passed</span>
                      </div>
                      <div class="grid grid-cols-2 gap-4">
                        <div>
                          <p class="text-xs font-semibold uppercase tracking-wider mb-1" style="color: var(--text-soft);">Video Duration</p>
                          <p class="text-sm text-white">18 minutes</p>
                        </div>
                        <div>
                          <p class="text-xs font-semibold uppercase tracking-wider mb-1" style="color: var(--text-soft);">Quiz Score</p>
                          <p class="text-sm text-white">8 / 10 <span class="text-xs" style="color: var(--color-success);">(minimum: 7)</span></p>
                        </div>
                      </div>
                      <div class="mt-3">
                        <p class="text-xs" style="color: var(--text-soft);">Topics covered: fire safety, crowd management, first aid locations, evacuation routes, radio protocols, weather contingency.</p>
                      </div>
                    </div>
                    <div class="flex items-center gap-2 text-xs" style="color: var(--color-success);">
                      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
                      Completed on May 20, 2026
                    </div>
                  </div>
                </template>

                <!-- Step 5: Shift Preferences (Interactive) -->
                <template x-if="i === 4">
                  <div class="space-y-5">
                    <!-- Area Preferences -->
                    <div>
                      <p class="text-xs font-semibold uppercase tracking-wider mb-3" style="color: var(--text-soft);">Preferred Areas <span style="color: var(--color-portal-light);">(select at least 2)</span></p>
                      <div class="grid grid-cols-3 gap-2">
                        <template x-for="area in shiftAreas" :key="area.id">
                          <div class="checkbox-item" :class="area.checked ? 'checked' : ''" @click="area.checked = !area.checked">
                            <div class="cb-box">
                              <template x-if="area.checked">
                                <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>
                              </template>
                            </div>
                            <div>
                              <span class="text-sm text-white" x-text="area.name"></span>
                              <p class="text-xs" style="color: var(--text-soft);" x-text="area.description"></p>
                            </div>
                          </div>
                        </template>
                      </div>
                    </div>

                    <!-- Time Slot Preferences -->
                    <div>
                      <p class="text-xs font-semibold uppercase tracking-wider mb-3" style="color: var(--text-soft);">Preferred Time Slots <span style="color: var(--color-portal-light);">(select at least 2)</span></p>
                      <div class="grid grid-cols-2 gap-2">
                        <template x-for="slot in timeSlots" :key="slot.id">
                          <div class="checkbox-item" :class="slot.checked ? 'checked' : ''" @click="slot.checked = !slot.checked">
                            <div class="cb-box">
                              <template x-if="slot.checked">
                                <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>
                              </template>
                            </div>
                            <div>
                              <span class="text-sm text-white" x-text="slot.name"></span>
                              <span class="text-xs ml-1" style="color: var(--text-soft);" x-text="slot.hours"></span>
                            </div>
                          </div>
                        </template>
                      </div>
                    </div>

                    <!-- Additional Notes -->
                    <div>
                      <p class="text-xs font-semibold uppercase tracking-wider mb-2" style="color: var(--text-soft);">Additional Notes (optional)</p>
                      <textarea class="input-field" rows="3" placeholder="Any dietary needs, accessibility requirements, or scheduling conflicts..." x-model="shiftNotes"></textarea>
                    </div>

                    <!-- Action -->
                    <div class="flex items-center gap-3">
                      <button class="btn-portal" @click="submitPreferences()">
                        Save Preferences
                      </button>
                      <span class="text-xs" style="color: var(--text-soft);">Your preferences help us assign shifts that work best for you.</span>
                    </div>
                  </div>
                </template>

                <!-- Step 6: Orientation (Locked) -->
                <template x-if="i === 5">
                  <div class="p-4 rounded-lg" style="background: var(--bg-sidebar);">
                    <p class="text-sm text-white font-medium mb-2">Orientation Session</p>
                    <p class="text-xs" style="color: var(--text-soft);">Scheduled for June 16, 2026 at 14:00 &mdash; Main Tent. This step will be unlocked after you attend the session.</p>
                  </div>
                </template>

              </div>
            </div>
          </template>
        </div>

      </div>
    </div>

    <!-- ==================== TAB: MY SCHEDULE ==================== -->
    <div x-show="tab === 'schedule'" x-transition>
      <div class="max-w-5xl mx-auto px-6 py-8">

        <!-- Header -->
        <div class="flex items-center justify-between mb-6">
          <div>
            <h1 class="text-xl font-bold mb-1">My Schedule</h1>
            <p class="text-sm" style="color: var(--text-soft);">Your assigned shifts for Midgard Festival 2026</p>
          </div>
          <div class="flex items-center gap-3">
            <span class="badge badge-info">5 shifts assigned</span>
            <span class="badge badge-portal">30 hours total</span>
          </div>
        </div>

        <!-- Day headers + Shifts -->
        <div class="space-y-6">

          <!-- Wednesday Jun 17 -->
          <div>
            <div class="flex items-center gap-3 mb-3">
              <div class="w-12 h-12 rounded-lg flex flex-col items-center justify-center" style="background: var(--bg-sidebar); border: 1px solid var(--border-default);">
                <span class="text-xs font-semibold uppercase" style="color: var(--text-soft);">Wed</span>
                <span class="text-lg font-bold text-white">17</span>
              </div>
              <div>
                <p class="text-sm font-semibold text-white">Wednesday, June 17</p>
                <p class="text-xs" style="color: var(--text-soft);">Setup Day &mdash; No shifts assigned</p>
              </div>
            </div>
            <div class="ml-14 p-4 rounded-lg" style="background: var(--bg-sidebar); border: 1px dashed var(--border-default);">
              <p class="text-xs" style="color: var(--text-soft);">No shifts scheduled. Arrive and settle into crew camping.</p>
            </div>
          </div>

          <!-- Thursday Jun 18 -->
          <div>
            <div class="flex items-center gap-3 mb-3">
              <div class="w-12 h-12 rounded-lg flex flex-col items-center justify-center" style="background: var(--bg-sidebar); border: 1px solid var(--border-default);">
                <span class="text-xs font-semibold uppercase" style="color: var(--text-soft);">Thu</span>
                <span class="text-lg font-bold text-white">18</span>
              </div>
              <div>
                <p class="text-sm font-semibold text-white">Thursday, June 18</p>
                <p class="text-xs" style="color: var(--text-soft);">Opening Day &mdash; 2 shifts, 12 hours</p>
              </div>
            </div>
            <div class="ml-14 space-y-2">
              <div class="portal-card p-4 shift-gate">
                <div class="flex items-center justify-between">
                  <div class="flex items-center gap-4">
                    <div class="text-center" style="min-width: 70px;">
                      <p class="text-sm font-semibold text-white">08:00</p>
                      <p class="text-xs" style="color: var(--text-soft);">14:00</p>
                    </div>
                    <div>
                      <p class="text-sm font-semibold text-white">Gate Crew</p>
                      <p class="text-xs mt-0.5" style="color: var(--text-soft);">Main Entrance</p>
                    </div>
                  </div>
                  <div class="flex items-center gap-3">
                    <div class="text-right">
                      <p class="text-xs" style="color: var(--text-soft);">Team Lead</p>
                      <p class="text-xs font-medium text-white">Erik Bakken</p>
                    </div>
                    <span class="badge badge-info">6h</span>
                  </div>
                </div>
              </div>
              <div class="portal-card p-4 shift-stage">
                <div class="flex items-center justify-between">
                  <div class="flex items-center gap-4">
                    <div class="text-center" style="min-width: 70px;">
                      <p class="text-sm font-semibold text-white">20:00</p>
                      <p class="text-xs" style="color: var(--text-soft);">02:00</p>
                    </div>
                    <div>
                      <p class="text-sm font-semibold text-white">Stage Runner</p>
                      <p class="text-xs mt-0.5" style="color: var(--text-soft);">Main Stage</p>
                    </div>
                  </div>
                  <div class="flex items-center gap-3">
                    <div class="text-right">
                      <p class="text-xs" style="color: var(--text-soft);">Team Lead</p>
                      <p class="text-xs font-medium text-white">Maja Strand</p>
                    </div>
                    <span class="badge badge-portal">6h</span>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Friday Jun 19 -->
          <div>
            <div class="flex items-center gap-3 mb-3">
              <div class="w-12 h-12 rounded-lg flex flex-col items-center justify-center" style="background: var(--bg-sidebar); border: 1px solid var(--border-default);">
                <span class="text-xs font-semibold uppercase" style="color: var(--text-soft);">Fri</span>
                <span class="text-lg font-bold text-white">19</span>
              </div>
              <div>
                <p class="text-sm font-semibold text-white">Friday, June 19</p>
                <p class="text-xs" style="color: var(--text-soft);">1 shift, 6 hours</p>
              </div>
            </div>
            <div class="ml-14 space-y-2">
              <div class="portal-card p-4 shift-food">
                <div class="flex items-center justify-between">
                  <div class="flex items-center gap-4">
                    <div class="text-center" style="min-width: 70px;">
                      <p class="text-sm font-semibold text-white">10:00</p>
                      <p class="text-xs" style="color: var(--text-soft);">16:00</p>
                    </div>
                    <div>
                      <p class="text-sm font-semibold text-white">Info Point</p>
                      <p class="text-xs mt-0.5" style="color: var(--text-soft);">Food Court</p>
                    </div>
                  </div>
                  <div class="flex items-center gap-3">
                    <div class="text-right">
                      <p class="text-xs" style="color: var(--text-soft);">Team Lead</p>
                      <p class="text-xs font-medium text-white">Lars Nygaard</p>
                    </div>
                    <span class="badge" style="background: hsla(30, 80%, 55%, 0.1); border: 1px solid hsla(30, 80%, 55%, 0.2); color: hsl(30, 80%, 55%);">6h</span>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Saturday Jun 20 -->
          <div>
            <div class="flex items-center gap-3 mb-3">
              <div class="w-12 h-12 rounded-lg flex flex-col items-center justify-center" style="background: var(--bg-sidebar); border: 1px solid var(--border-default);">
                <span class="text-xs font-semibold uppercase" style="color: var(--text-soft);">Sat</span>
                <span class="text-lg font-bold text-white">20</span>
              </div>
              <div>
                <p class="text-sm font-semibold text-white">Saturday, June 20</p>
                <p class="text-xs" style="color: var(--text-soft);">1 shift, 6 hours</p>
              </div>
            </div>
            <div class="ml-14 space-y-2">
              <div class="portal-card p-4 shift-vip">
                <div class="flex items-center justify-between">
                  <div class="flex items-center gap-4">
                    <div class="text-center" style="min-width: 70px;">
                      <p class="text-sm font-semibold text-white">14:00</p>
                      <p class="text-xs" style="color: var(--text-soft);">20:00</p>
                    </div>
                    <div>
                      <p class="text-sm font-semibold text-white">VIP Host</p>
                      <p class="text-xs mt-0.5" style="color: var(--text-soft);">VIP Lounge</p>
                    </div>
                  </div>
                  <div class="flex items-center gap-3">
                    <div class="text-right">
                      <p class="text-xs" style="color: var(--text-soft);">Team Lead</p>
                      <p class="text-xs font-medium text-white">Astrid Holm</p>
                    </div>
                    <span class="badge badge-pending">6h</span>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Sunday Jun 21 -->
          <div>
            <div class="flex items-center gap-3 mb-3">
              <div class="w-12 h-12 rounded-lg flex flex-col items-center justify-center" style="background: var(--bg-sidebar); border: 1px solid var(--border-default);">
                <span class="text-xs font-semibold uppercase" style="color: var(--text-soft);">Sun</span>
                <span class="text-lg font-bold text-white">21</span>
              </div>
              <div>
                <p class="text-sm font-semibold text-white">Sunday, June 21</p>
                <p class="text-xs" style="color: var(--text-soft);">Final Day &mdash; 1 shift, 6 hours</p>
              </div>
            </div>
            <div class="ml-14 space-y-2">
              <div class="portal-card p-4 shift-teardown">
                <div class="flex items-center justify-between">
                  <div class="flex items-center gap-4">
                    <div class="text-center" style="min-width: 70px;">
                      <p class="text-sm font-semibold text-white">06:00</p>
                      <p class="text-xs" style="color: var(--text-soft);">12:00</p>
                    </div>
                    <div>
                      <p class="text-sm font-semibold text-white">Teardown Crew</p>
                      <p class="text-xs mt-0.5" style="color: var(--text-soft);">Main Stage</p>
                    </div>
                  </div>
                  <div class="flex items-center gap-3">
                    <div class="text-right">
                      <p class="text-xs" style="color: var(--text-soft);">Team Lead</p>
                      <p class="text-xs font-medium text-white">Erik Bakken</p>
                    </div>
                    <span class="badge badge-warning">6h</span>
                  </div>
                </div>
              </div>
            </div>
          </div>

        </div>

        <!-- Total Summary -->
        <div class="mt-8 portal-card p-5">
          <div class="flex items-center justify-between">
            <div class="flex items-center gap-6">
              <div>
                <p class="text-xs font-semibold uppercase tracking-wider" style="color: var(--text-soft);">Total Shifts</p>
                <p class="text-xl font-bold text-white mt-1">5</p>
              </div>
              <div style="width: 1px; height: 36px; background: var(--border-default);"></div>
              <div>
                <p class="text-xs font-semibold uppercase tracking-wider" style="color: var(--text-soft);">Total Hours</p>
                <p class="text-xl font-bold text-white mt-1">30</p>
              </div>
              <div style="width: 1px; height: 36px; background: var(--border-default);"></div>
              <div>
                <p class="text-xs font-semibold uppercase tracking-wider" style="color: var(--text-soft);">Active Days</p>
                <p class="text-xl font-bold text-white mt-1">4 of 5</p>
              </div>
            </div>
            <div class="flex items-center gap-4 text-xs" style="color: var(--text-soft);">
              <div class="flex items-center gap-2">
                <div class="w-3 h-3 rounded-sm" style="background: hsl(205, 69%, 50%);"></div> Gate
              </div>
              <div class="flex items-center gap-2">
                <div class="w-3 h-3 rounded-sm" style="background: hsl(258, 60%, 55%);"></div> Stage
              </div>
              <div class="flex items-center gap-2">
                <div class="w-3 h-3 rounded-sm" style="background: hsl(30, 80%, 55%);"></div> Food Court
              </div>
              <div class="flex items-center gap-2">
                <div class="w-3 h-3 rounded-sm" style="background: hsl(44, 88%, 55%);"></div> VIP
              </div>
              <div class="flex items-center gap-2">
                <div class="w-3 h-3 rounded-sm" style="background: hsl(0, 60%, 55%);"></div> Teardown
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>

    <!-- ==================== TAB: ENTITLEMENTS ==================== -->
    <div x-show="tab === 'entitlements'" x-transition>
      <div class="max-w-5xl mx-auto px-6 py-8">

        <!-- Header -->
        <div class="flex items-center justify-between mb-6">
          <div>
            <h1 class="text-xl font-bold mb-1">My Entitlements</h1>
            <p class="text-sm" style="color: var(--text-soft);">Everything you receive as a Midgard Festival volunteer.</p>
          </div>
        </div>

        <!-- Entitlement Cards -->
        <div class="grid grid-cols-2 gap-4">

          <!-- Crew Meal Vouchers -->
          <div class="entitlement-card">
            <div class="flex items-center gap-3 mb-4">
              <div class="w-10 h-10 rounded-lg flex items-center justify-center" style="background: hsla(30, 80%, 55%, 0.15);">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="color: hsl(30, 80%, 55%);"><path d="M18 8h1a4 4 0 0 1 0 8h-1"/><path d="M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"/><line x1="6" y1="1" x2="6" y2="4"/><line x1="10" y1="1" x2="10" y2="4"/><line x1="14" y1="1" x2="14" y2="4"/></svg>
              </div>
              <div>
                <p class="text-sm font-semibold text-white">Crew Meal Vouchers</p>
                <p class="text-xs" style="color: var(--text-soft);">5 meals per shift day</p>
              </div>
            </div>
            <div class="space-y-2">
              <template x-for="day in mealDays" :key="day.date">
                <div class="flex items-center justify-between py-2 px-3 rounded" style="background: var(--bg-active);">
                  <span class="text-xs font-medium text-white" x-text="day.label"></span>
                  <div class="flex items-center gap-2">
                    <template x-for="n in 5" :key="n">
                      <div class="w-5 h-5 rounded-full flex items-center justify-center text-xs"
                           :style="n <= day.used ? 'background: var(--color-success); color: #fff;' : 'background: var(--bg-input); color: var(--text-soft);'">
                        <template x-if="n <= day.used">
                          <svg width="10" height="10" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>
                        </template>
                        <template x-if="n > day.used">
                          <span x-text="n"></span>
                        </template>
                      </div>
                    </template>
                  </div>
                </div>
              </template>
            </div>
            <p class="text-xs mt-3" style="color: var(--text-soft);">Redeem at any crew catering station with your badge.</p>
          </div>

          <!-- Festival Wristband -->
          <div class="entitlement-card">
            <div class="flex items-center gap-3 mb-4">
              <div class="w-10 h-10 rounded-lg flex items-center justify-center" style="background: hsla(258, 60%, 55%, 0.15);">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="color: var(--color-portal-light);"><rect x="2" y="7" width="20" height="10" rx="2"/><path d="M12 7v10"/><path d="M7 7v10"/><path d="M17 7v10"/></svg>
              </div>
              <div>
                <p class="text-sm font-semibold text-white">Festival Wristband</p>
                <p class="text-xs" style="color: var(--text-soft);">Crew access level</p>
              </div>
            </div>
            <div class="p-4 rounded-lg" style="background: var(--bg-active);">
              <div class="flex items-center justify-between mb-2">
                <span class="text-xs font-semibold uppercase tracking-wider" style="color: var(--text-soft);">Access Level</span>
                <span class="badge badge-portal">Crew</span>
              </div>
              <div class="flex items-center justify-between mb-2">
                <span class="text-xs font-semibold uppercase tracking-wider" style="color: var(--text-soft);">Wristband Color</span>
                <div class="flex items-center gap-2">
                  <div class="w-4 h-4 rounded-full" style="background: var(--color-portal);"></div>
                  <span class="text-xs text-white">Purple</span>
                </div>
              </div>
              <div class="flex items-center justify-between">
                <span class="text-xs font-semibold uppercase tracking-wider" style="color: var(--text-soft);">Status</span>
                <span class="badge badge-pending">Issued at check-in</span>
              </div>
            </div>
            <p class="text-xs mt-3" style="color: var(--text-soft);">Pick up at crew check-in on arrival. Bring valid ID.</p>
          </div>

          <!-- Volunteer T-shirt -->
          <div class="entitlement-card">
            <div class="flex items-center gap-3 mb-4">
              <div class="w-10 h-10 rounded-lg flex items-center justify-center" style="background: hsla(151, 61%, 43%, 0.15);">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="color: var(--color-success);"><path d="M20.38 3.46L16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z"/></svg>
              </div>
              <div>
                <p class="text-sm font-semibold text-white">Volunteer T-shirt</p>
                <p class="text-xs" style="color: var(--text-soft);">Midgard Festival 2026 crew shirt</p>
              </div>
            </div>
            <div class="p-4 rounded-lg" style="background: var(--bg-active);">
              <div class="flex items-center justify-between mb-2">
                <span class="text-xs font-semibold uppercase tracking-wider" style="color: var(--text-soft);">Size</span>
                <span class="text-xs font-medium text-white">M (Medium)</span>
              </div>
              <div class="flex items-center justify-between mb-2">
                <span class="text-xs font-semibold uppercase tracking-wider" style="color: var(--text-soft);">Color</span>
                <span class="text-xs font-medium text-white">Black with purple print</span>
              </div>
              <div class="flex items-center justify-between">
                <span class="text-xs font-semibold uppercase tracking-wider" style="color: var(--text-soft);">Pickup</span>
                <span class="badge badge-pending">At orientation (Jun 16)</span>
              </div>
            </div>
            <p class="text-xs mt-3" style="color: var(--text-soft);">Wear your crew shirt during all shifts for identification.</p>
          </div>

          <!-- Camping Pass -->
          <div class="entitlement-card">
            <div class="flex items-center gap-3 mb-4">
              <div class="w-10 h-10 rounded-lg flex items-center justify-center" style="background: hsla(205, 69%, 33%, 0.15);">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="color: var(--color-highlight);"><path d="M12 2L2 7l10 5 10-5-10-5z"/><path d="M2 17l10 5 10-5"/><path d="M2 12l10 5 10-5"/></svg>
              </div>
              <div>
                <p class="text-sm font-semibold text-white">Camping Pass</p>
                <p class="text-xs" style="color: var(--text-soft);">Crew camping area</p>
              </div>
            </div>
            <div class="p-4 rounded-lg" style="background: var(--bg-active);">
              <div class="flex items-center justify-between mb-2">
                <span class="text-xs font-semibold uppercase tracking-wider" style="color: var(--text-soft);">Area</span>
                <span class="text-xs font-medium text-white">Crew Camping (Zone C)</span>
              </div>
              <div class="flex items-center justify-between mb-2">
                <span class="text-xs font-semibold uppercase tracking-wider" style="color: var(--text-soft);">Valid</span>
                <span class="text-xs font-medium text-white">Jun 17 &ndash; Jun 22, 2026</span>
              </div>
              <div class="flex items-center justify-between">
                <span class="text-xs font-semibold uppercase tracking-wider" style="color: var(--text-soft);">Includes</span>
                <span class="text-xs font-medium text-white">Tent spot + shower access</span>
              </div>
            </div>
            <p class="text-xs mt-3" style="color: var(--text-soft);">Arrive from June 17. Crew camping has dedicated toilets and showers.</p>
          </div>

          <!-- Afterparty Access (full width) -->
          <div class="entitlement-card col-span-2">
            <div class="flex items-center justify-between">
              <div class="flex items-center gap-3">
                <div class="w-10 h-10 rounded-lg flex items-center justify-center" style="background: hsla(44, 88%, 66%, 0.15);">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="color: var(--color-pending);"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>
                </div>
                <div>
                  <p class="text-sm font-semibold text-white">Afterparty Access</p>
                  <p class="text-xs" style="color: var(--text-soft);">Exclusive crew &amp; volunteer afterparty</p>
                </div>
              </div>
              <div class="flex items-center gap-4">
                <div class="text-right">
                  <p class="text-sm font-medium text-white">Sunday, June 21</p>
                  <p class="text-xs" style="color: var(--text-soft);">22:00 &mdash; Backstage Tent</p>
                </div>
                <span class="badge badge-success">Confirmed</span>
              </div>
            </div>
          </div>

        </div>

      </div>
    </div>

    <!-- ==================== TAB: CONTACT & HELP ==================== -->
    <div x-show="tab === 'help'" x-transition>
      <div class="max-w-5xl mx-auto px-6 py-8">

        <!-- Header -->
        <div class="mb-6">
          <h1 class="text-xl font-bold mb-1">Contact &amp; Help</h1>
          <p class="text-sm" style="color: var(--text-soft);">Get in touch with your team or find answers to common questions.</p>
        </div>

        <!-- Contact Cards -->
        <div class="grid grid-cols-3 gap-4 mb-8">

          <!-- Team Leader -->
          <div class="portal-card p-5">
            <div class="flex items-center gap-3 mb-4">
              <div class="w-10 h-10 rounded-full flex items-center justify-center text-sm font-semibold" style="background: var(--color-portal); color: #fff;">EB</div>
              <div>
                <p class="text-sm font-semibold text-white">Erik Bakken</p>
                <p class="text-xs" style="color: var(--color-portal-light);">Team Leader &mdash; Crew Bravo</p>
              </div>
            </div>
            <div class="space-y-2">
              <div class="flex items-center gap-2">
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="color: var(--text-soft);"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>
                <span class="text-xs" style="color: var(--text-default);">erik.bakken@midgardfestival.no</span>
              </div>
              <div class="flex items-center gap-2">
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="color: var(--text-soft);"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></svg>
                <span class="text-xs" style="color: var(--text-default);">+47 901 23 456</span>
              </div>
            </div>
            <p class="text-xs mt-3" style="color: var(--text-soft);">Available during festival hours. Contact for shift-related questions.</p>
          </div>

          <!-- Volunteer Coordinator -->
          <div class="portal-card p-5">
            <div class="flex items-center gap-3 mb-4">
              <div class="w-10 h-10 rounded-full flex items-center justify-center text-sm font-semibold" style="background: var(--color-success); color: #fff;">HD</div>
              <div>
                <p class="text-sm font-semibold text-white">Helene Dahl</p>
                <p class="text-xs" style="color: var(--color-success);">Volunteer Coordinator</p>
              </div>
            </div>
            <div class="space-y-2">
              <div class="flex items-center gap-2">
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="color: var(--text-soft);"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>
                <span class="text-xs" style="color: var(--text-default);">helene@midgardfestival.no</span>
              </div>
              <div class="flex items-center gap-2">
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="color: var(--text-soft);"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></svg>
                <span class="text-xs" style="color: var(--text-default);">+47 987 65 432</span>
              </div>
            </div>
            <p class="text-xs mt-3" style="color: var(--text-soft);">For onboarding issues, scheduling changes, and general volunteer support.</p>
          </div>

          <!-- Emergency -->
          <div class="portal-card p-5" style="border-color: hsla(0, 88%, 66%, 0.3);">
            <div class="flex items-center gap-3 mb-4">
              <div class="w-10 h-10 rounded-lg flex items-center justify-center" style="background: hsla(0, 88%, 66%, 0.15);">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="color: var(--color-warning);"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>
              </div>
              <div>
                <p class="text-sm font-semibold text-white">Emergency</p>
                <p class="text-xs" style="color: var(--color-warning);">24/7 during festival</p>
              </div>
            </div>
            <div class="p-4 rounded-lg" style="background: hsla(0, 88%, 66%, 0.06); border: 1px solid hsla(0, 88%, 66%, 0.15);">
              <div class="flex items-center gap-2 mb-2">
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="color: var(--color-warning);"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></svg>
                <span class="text-sm font-bold" style="color: var(--color-warning);">+47 113</span>
              </div>
              <p class="text-xs" style="color: var(--text-soft);">Norwegian emergency number</p>
              <div class="flex items-center gap-2 mt-3 mb-1">
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="color: var(--text-soft);"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></svg>
                <span class="text-sm font-bold text-white">+47 800 55 000</span>
              </div>
              <p class="text-xs" style="color: var(--text-soft);">Festival security hotline</p>
            </div>
          </div>

        </div>

        <!-- FAQ Section -->
        <div>
          <h2 class="text-base font-semibold text-white mb-4">Frequently Asked Questions</h2>

          <template x-for="(faq, i) in faqs" :key="i">
            <div class="faq-item">
              <div class="faq-header" @click="faq.open = !faq.open">
                <span class="text-white" x-text="faq.question"></span>
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="color: var(--text-soft); transition: transform 0.15s; flex-shrink: 0;"
                     :style="faq.open ? 'transform: rotate(180deg);' : ''"><polyline points="6 9 12 15 18 9"/></svg>
              </div>
              <div x-show="faq.open" x-transition class="faq-body" x-text="faq.answer"></div>
            </div>
          </template>
        </div>

      </div>
    </div>

  </main>

  <!-- PORTAL FOOTER -->
  <footer class="py-8 text-center" style="border-top: 1px solid var(--border-soft);">
    <p class="text-sm" style="color: var(--text-soft);">Midgard Festival 2026 &nbsp;&#124;&nbsp; Powered by Crescat</p>
  </footer>

  <!-- Toast -->
  <div class="toast" :class="toast ? '' : 'hidden'" x-text="toast"></div>

  <script>
    function volunteerApp() {
      return {
        tab: 'dashboard',
        toast: '',
        shiftNotes: '',

        onboardingSteps: [
          {
            title: 'Personal Information',
            shortTitle: 'Info',
            subtitle: 'Name, phone, emergency contact, t-shirt size',
            status: 'completed',
            expanded: false
          },
          {
            title: 'Photo Upload',
            shortTitle: 'Photo',
            subtitle: 'Photo for your volunteer credential badge',
            status: 'completed',
            expanded: false
          },
          {
            title: 'Code of Conduct',
            shortTitle: 'Conduct',
            subtitle: 'Read and accept the festival code of conduct',
            status: 'completed',
            expanded: false
          },
          {
            title: 'Safety Briefing',
            shortTitle: 'Safety',
            subtitle: 'Watch safety video and pass the quiz',
            status: 'completed',
            expanded: false
          },
          {
            title: 'Shift Preferences',
            shortTitle: 'Preferences',
            subtitle: 'Choose your preferred work areas and time slots',
            status: 'current',
            expanded: true
          },
          {
            title: 'Orientation Session',
            shortTitle: 'Orientation',
            subtitle: 'Attend the mandatory orientation on June 16',
            status: 'locked',
            expanded: false
          }
        ],

        shiftAreas: [
          { id: 'main-stage', name: 'Main Stage', description: 'Stage runner, equipment', checked: true },
          { id: 'food-court', name: 'Food Court', description: 'Info point, logistics', checked: false },
          { id: 'campground', name: 'Campground', description: 'Patrol, assistance', checked: true },
          { id: 'vip', name: 'VIP Area', description: 'Hosting, access control', checked: false },
          { id: 'backstage', name: 'Backstage', description: 'Artist support, runners', checked: false },
          { id: 'entrance', name: 'Main Entrance', description: 'Gate crew, wristbands', checked: true }
        ],

        timeSlots: [
          { id: 'morning', name: 'Morning', hours: '06:00 - 12:00', checked: true },
          { id: 'afternoon', name: 'Afternoon', hours: '12:00 - 18:00', checked: true },
          { id: 'evening', name: 'Evening', hours: '18:00 - 00:00', checked: false },
          { id: 'night', name: 'Night', hours: '00:00 - 06:00', checked: false }
        ],

        mealDays: [
          { label: 'Thu Jun 18', date: '2026-06-18', used: 0 },
          { label: 'Fri Jun 19', date: '2026-06-19', used: 0 },
          { label: 'Sat Jun 20', date: '2026-06-20', used: 0 },
          { label: 'Sun Jun 21', date: '2026-06-21', used: 0 }
        ],

        faqs: [
          {
            question: 'What if I get sick and cannot make my shift?',
            answer: 'Contact your team leader as soon as possible. If you cannot reach them, call the volunteer coordinator Helene Dahl at +47 987 65 432. We will find a replacement for your shift. If you are on-site and feeling unwell, visit the medical tent near the main entrance. You will not be penalized for genuine illness.',
            open: false
          },
          {
            question: 'Can I swap shifts with another volunteer?',
            answer: 'Yes, shift swaps are allowed as long as both volunteers agree and the swap is approved by your team leader. Use the shift swap request form (available at the volunteer HQ tent) or contact your team leader directly. Please arrange swaps at least 24 hours before the shift starts.',
            open: false
          },
          {
            question: 'Where do I check in when I arrive?',
            answer: 'The volunteer check-in point is located at the Crew Entrance on the east side of the festival grounds (follow signs for "Crew / Volunteer"). Check-in opens on June 17 at 10:00. Bring your government-issued ID. You will receive your wristband, t-shirt, and meal vouchers at check-in.',
            open: false
          },
          {
            question: 'What should I bring to the festival?',
            answer: 'Essential items: valid ID, weather-appropriate clothing (layers recommended), comfortable shoes for long shifts, sleeping bag and tent for crew camping, personal hygiene items, sunscreen, water bottle, and any prescribed medications. The festival provides crew meals, but you may want to bring snacks. A portable phone charger is highly recommended.',
            open: false
          }
        ],

        submitPreferences() {
          const selectedAreas = this.shiftAreas.filter(a => a.checked).length;
          const selectedSlots = this.timeSlots.filter(s => s.checked).length;

          if (selectedAreas < 2) {
            this.showToast('Please select at least 2 preferred areas.');
            return;
          }
          if (selectedSlots < 2) {
            this.showToast('Please select at least 2 time slots.');
            return;
          }

          this.showToast('Shift preferences saved successfully!');
        },

        showToast(msg) {
          this.toast = msg;
          setTimeout(() => { this.toast = ''; }, 3000);
        }
      };
    }
  </script>

</body>
</html>
